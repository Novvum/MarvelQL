//* MARVELQL jq filters

// Superhero IDs To CSV
["superheroId","name"],(to_entries|.[]| [.value.superheroId,.value.name])|@csv

// Characters to CSV
["id","name","description","modified", "thumbnail", "marvelURI", "comics", "series", "stories","events", "urls" ],(to_entries | .[] |           [.value.id,.value.name, .value.description, .value.modified, ("\(.value.thumbnail.path)/\(.value.thumbnail.extension)"), .value.resourceURI, ([((.value.comics | .items | .[] | (.resourceURI | capture("http://gateway.marvel.com/v1/public/comics/(?<id>[0-9]+)") | .id)))] | [join(", ")] | @csv), ([((.value.series | .items | .[] | (.resourceURI | capture("http://gateway.marvel.com/v1/public/series/(?<id>[0-9]+)") | .id)))] | [join(", ")] | @csv), ([((.value.stories | .items | .[] | (.resourceURI | capture("http://gateway.marvel.com/v1/public/stories/(?<id>[0-9]+)") | .id)))] | [join(", ")] | @csv), ([((.value.events | .items | .[] | (.resourceURI | capture("http://gateway.marvel.com/v1/public/events/(?<id>[0-9]+)") | .id)))] | [join(", ")] | @csv), ([(.value.urls | .[] | .url)] | [join(", ")] | @csv )]) | @csv


id from resourceURI
capture("http://gateway.marvel.com/v1/public/comics/(?<id>[0-9]+)")

thumbnail combination
"\(.path)/\(.extension)"


nested ids
 ([((.value.comics | .items | .[] | (.resourceURI | capture("http://gateway.marvel.com/v1/public/comics/(?<id>[0-9]+)") | .id)))] | @csv)
  
([((.value.series | .items | .[] | (.resourceURI | capture("http://gateway.marvel.com/v1/public/series/(?<id>[0-9]+)") | .id)))] | @csv)

([((value.events | .items | .[] | (.resourceURI | capture("http://gateway.marvel.com/v1/public/events/(?<id>[0-9]+)") | .id)))] | @csv)
  
  
([((value.stories | .items | .[] | (.resourceURI | capture("http://gateway.marvel.com/v1/public/stories/(?<id>[0-9]+)") | .id)))] | @csv)



